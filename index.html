
<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta content="헤븐 번즈 레드 대미지 계산기" name="description">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@RELI_hevburn" />
  <meta name="twitter:title" content="헤븐 번즈 레드 대미지 계산기" />
  <meta name="twitter:description" content="헤븐 번즈 레드 대미지 계산기" />
  <meta name="twitter:image" content="https://www.hbr-tool.com/resource/summary_card.png" />
  <title>헤븐 번즈 레드 대미지 계산기</title>
  <link rel="stylesheet" href="resource/header.css?v=240404a">
  <link rel="stylesheet" href="resource/modal.css?v=240404a">
  <link rel="stylesheet" href="resource/micromodal.css?v=240404a">
  <link rel="stylesheet" href="resource/damege.css?v=240404a">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
  <script src="https://unpkg.com/micromodal/dist/micromodal.min.js"></script>
  <script src="resource/header.js?v=240404a"></script>
  <script src="resource/chara_data.js?v=240404a"></script>
  <script src="resource/chara_style_k.js?v=240531a"></script>
  <script src="resource/damege.js?v=240531b"></script>
  <script src="resource/modal.js?v=240404a"></script>
  <script src="resource/skill_attack_k.js?v=240531a"></script>
  <script src="resource/skill_buff_k.js?v=240531a"></script>
  <script src="resource/ability_k.js?v=240531a"></script>
  <script src="resource/enemy.js?v=240404a"></script>
  <script src="resource/grade.js?v=240404a"></script>
  <script>
    var chara_no = -1;
    var select_troops = localStorage.getItem('select_troops');
    var select_style_list = Array(6).fill(undefined);
    var sub_style_list = Array(6).fill(undefined);
    var status_kbn = ["", "str", "dex", "con", "mnd", "int", "luk"];
    var type_physical = ["", "slash", "stab", "strike"];
    var type_element = ["none", "fire", "ice", "thunder", "light", "dark"];
    var select_attack_skill;
    var open_damage_detail;
    var buff_kbn = [
      "power_up",
      "element_up",
      "mindeye",
      "defense_down",
      "element_down",
      "fragile",
      "critical_up",
      "critical_damege",
      "critical_element",
      "critical_damege_element",
      "charge",
      "element_field",
      "destruction_rete_up",
      "",
      "fightingspirit",
      "misfortune",
      "funnel",
      "funnel",
      "strong_break",
      "dp_defense_down",
      "resist_down",
      "permanent_defense_down",
      "permanent_element_down",
    ];
    const DP_GAUGE_COUNT = 4;
    $(function () {
      // スタイルリスト作成
      createStyleList();
      // モーダル系イベント追加
      addModalEvent();

      $("input[type='number']").prop("step", 1);
      $(".status").prop("max", 999);
      $(".status").prop("min", 1);

      $(".limit").each(function (index, value) {
        for (let i = 0; i <= 4; i++) $(value).append($('<option>').text(i).val(i))
        $(value).prop("selectedIndex", 2);
      });
      $(".jewel").each(function (index, value) {
        for (let i = 0; i <= 5; i++) $(value).append($('<option>').text(i).val(i))
        $(value).prop("selectedIndex", 5);
      });

      // 自由入力取得
      for (let i = 0; i < 10; i++) {
        let free_enemy = localStorage.getItem("free_enemy_" + i);
        if (free_enemy !== null) {
          updateEnemyStatus(i, JSON.parse(free_enemy));
        }
      }
      // 敵情報設定
      let enemy_class = localStorage.getItem("enemy_class");
      enemy_class = enemy_class ? enemy_class : "1";
      $("#enemy_class").val(enemy_class);
      createEnemyList(enemy_class);
      let enemy_list = localStorage.getItem("enemy_list");
      enemy_list = enemy_list ? enemy_list : "1";
      $("#enemy_list").val(enemy_list);
      setEnemyStatus();

      // イベント設定
      setEventTrigger();

      // スタイルリスト読み込み
      select_troops = select_troops ? select_troops : 0;
      $("#troops_btn_" + select_troops).addClass("selected_troops");
      loadTroopsList(select_troops);

      // MicroModal初期化
      MicroModal.init({
        disableScroll: true,
      });
    });
    // ロード完了後に表示
    $(window).on("load", function () {
      $("div.frame").css("visibility", "visible");
    });
  </script>
</head>

<body>
  <main>
    <header>
      <h1>헤번레 대미지 계산기</h1>
    </header>
      <div class="frame w-screen pt-3 overflow-y-scroll border-b" style="visibility: hidden;">
      <div class="display_area mx-auto">
        <div class="status_area mx-auto">
          <div id="char_list" class="grid grid-cols-7 text-center gap-y-px gap-x-0">
            <label class="mt-3 mb-3 small_font">부대선택</label>
            <div class="col-span-6 flex">
              <input type="button" id="troops_btn_0" class="troops_btn" value="0">
              <input type="button" id="troops_btn_1" class="troops_btn" value="1">
              <input type="button" id="troops_btn_2" class="troops_btn" value="2">
              <input type="button" id="troops_btn_3" class="troops_btn" value="3">
              <input type="button" id="troops_btn_4" class="troops_btn" value="4">
              <input type="button" id="troops_btn_5" class="troops_btn" value="5">
              <input type="button" id="troops_btn_6" class="troops_btn" value="6">
              <input type="button" id="troops_btn_7" class="troops_btn" value="7">
              <input type="button" id="troops_btn_8" class="troops_btn" value="8">
            </div>
            <div class="mt-2">
              <div>
                <label class="small_font">스타일</label>
                <input type="button" id="style_reset_btn" value="Reset">
              </div>
            </div>
            <img class="showmodal select_style" id="select_chara_0" src="resource/plus.png" data-chara_no="0">
            <img class="showmodal select_style" id="select_chara_1" src="resource/plus.png" data-chara_no="1">
            <img class="showmodal select_style" id="select_chara_2" src="resource/plus.png" data-chara_no="2">
            <img class="showmodal select_style" id="select_chara_3" src="resource/plus.png" data-chara_no="3">
            <img class="showmodal select_style" id="select_chara_4" src="resource/plus.png" data-chara_no="4">
            <img class="showmodal select_style" id="select_chara_5" src="resource/plus.png" data-chara_no="5">
            <div>
              <label class="label_status">한계돌파</label>
              <label class="label_status">힘</label>
              <label class="label_status">기교</label>
              <label class="label_status">체력</label>
              <label class="label_status">정신</label>
              <label class="label_status">지성</label>
              <label class="label_status">운</label>
              <label class="label_status">보주Lv</label>
              <label class="label_status">소모SP</label>
            </div>
            <div>
              <select id="limit_0" class="limit save"></select>
              <input type="number" id="str_0" class="status save" value="400">
              <input type="number" id="dex_0" class="status save" value="400">
              <input type="number" id="con_0" class="status save" value="400">
              <input type="number" id="mnd_0" class="status save" value="400">
              <input type="number" id="int_0" class="status effect_size save" value="400">
              <input type="number" id="luk_0" class="status effect_size save" value="400">
              <select id="jewel_0" class="jewel save"></select>
              <label id="sp_cost_0">0</label>
            </div>
            <div>
              <select id="limit_1" class="limit save"></select>
              <input type="number" id="str_1" class="status save" value="400">
              <input type="number" id="dex_1" class="status save" value="400">
              <input type="number" id="con_1" class="status save" value="400">
              <input type="number" id="mnd_1" class="status save" value="400">
              <input type="number" id="int_1" class="status effect_size save" value="400">
              <input type="number" id="luk_1" class="status effect_size save" value="400">
              <select id="jewel_1" class="jewel save"></select>
              <label id="sp_cost_1">0</label>
            </div>
            <div>
              <select id="limit_2" class="limit save"></select>
              <input type="number" id="str_2" class="status save" value="400">
              <input type="number" id="dex_2" class="status save" value="400">
              <input type="number" id="con_2" class="status save" value="400">
              <input type="number" id="mnd_2" class="status save" value="400">
              <input type="number" id="int_2" class="status effect_size save" value="400">
              <input type="number" id="luk_2" class="status effect_size save" value="400">
              <select id="jewel_2" class="jewel save"></select>
              <label id="sp_cost_2">0</label>
            </div>
            <div>
              <select id="limit_3" class="limit save"></select>
              <input type="number" id="str_3" class="status save" value="400">
              <input type="number" id="dex_3" class="status save" value="400">
              <input type="number" id="con_3" class="status save" value="400">
              <input type="number" id="mnd_3" class="status save" value="400">
              <input type="number" id="int_3" class="status effect_size save" value="400">
              <input type="number" id="luk_3" class="status effect_size save" value="400">
              <select id="jewel_3" class="jewel save"></select>
              <label id="sp_cost_3">0</label>
            </div>
            <div>
              <select id="limit_4" class="limit save"></select>
              <input type="number" id="str_4" class="status save" value="400">
              <input type="number" id="dex_4" class="status save" value="400">
              <input type="number" id="con_4" class="status save" value="400">
              <input type="number" id="mnd_4" class="status save" value="400">
              <input type="number" id="int_4" class="status effect_size save" value="400">
              <input type="number" id="luk_4" class="status effect_size save" value="400">
              <select id="jewel_4" class="jewel save"></select>
              <label id="sp_cost_4">0</label>
            </div>
            <div>
              <select id="limit_5" class="limit save"></select>
              <input type="number" id="str_5" class="status save" value="400">
              <input type="number" id="dex_5" class="status save" value="400">
              <input type="number" id="con_5" class="status save" value="400">
              <input type="number" id="mnd_5" class="status save" value="400">
              <input type="number" id="int_5" class="status effect_size save" value="400">
              <input type="number" id="luk_5" class="status effect_size save" value="400">
              <select id="jewel_5" class="jewel save"></select>
              <label id="sp_cost_5">0</label>
            </div>
          </div>
          <div class="adjust_width mx-auto flex mt-2">
            <label class="w-[40px]">공 격</label>
            <select id="attack_list">
            </select>
            <div class="lv w-[56px]"><select id="skill_lv"></select></div>
            <img id="attack_physical" class="w-6 h-6" src="resource/blank.png">
            <img id="attack_element" class="w-6 h-6" src="resource/blank.png">
          </div>
          <div class="enemy_select adjust_width mx-auto mt-2">
            <div>
              <label id="enemy_select_label">적선택</label>
              <select id="enemy_class">
                <option value="99">자유입력</option>
                <option value="1">이시층</option>
              </select>
              <select id="enemy_list">
              </select>
              <input id="enemy_save" type="button" value="저장" hidden>
            </div>
          </div>
          <div class="score_attack mx-auto">
            <div id="half_tab">
              <input type="radio" name="rule_tab" id="half_tab_1" checked>
              <label for="half_tab_1" id="label_half_tab_1">1週目</label>
              <input type="radio" name="rule_tab" id="half_tab_2">
              <label for="half_tab_2" id="label_half_tab_2">2週目</label>
              <input type="radio" name="rule_tab" id="half_tab_3">
              <label for="half_tab_3" id="label_half_tab_3">3週目</label>
              <span id="score_turn">
                ターン数
                <select id="turn_count" class="text-right w-12">
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                  <option value="11">11</option>
                  <option value="12">12</option>
                  <option value="13">13</option>
                  <option value="14">14</option>
                  <option value="15">15</option>
                  <option value="16">16</option>
                  <option value="17">17</option>
                  <option value="18">18</option>
                  <option value="19">19</option>
                  <option value="20">20</option>
                  <option value="21">21</option>
                  <option value="22">22</option>
                  <option value="23">23</option>
                  <option value="24">24</option>
                  <option value="25">25</option>
                  <option value="26">26</option>
                  <option value="27">27</option>
                  <option value="28">28</option>
                  <option value="29">29</option>
                  <option value="30">30</option>
                </select>
              </span>
              <div id="half_content_1"></div>
              <div id="half_content_2"></div>
              <div id="half_content_3"></div>
            </div>
          </div>
          <div class="sub_party adjust_width">
            <div class="flex ml-0 mt-2">
              <label class="mt-3">다른 부대 선택</label>
              <select id="sub_troops" class="mt-3">
                <option value="-1" selected>없음</option>
                <option value="0">부대0</option>
                <option value="1">부대1</option>
                <option value="2">부대2</option>
                <option value="3">부대3</option>
                <option value="4">부대4</option>
                <option value="5">부대5</option>
                <option value="6">부대6</option>
                <option value="7">부대7</option>
                <option value="8">부대8</option>
              </select>
              <div id="sub_chara_container_0"><img class="sub_style" id="sub_chara_0" src="resource/cross.png"
                  data-chara_no="0"></div>
              <div id="sub_chara_container_1"><img class="sub_style" id="sub_chara_1" src="resource/cross.png"
                  data-chara_no="1"></div>
              <div id="sub_chara_container_2"><img class="sub_style" id="sub_chara_2" src="resource/cross.png"
                  data-chara_no="2"></div>
              <div id="sub_chara_container_3"><img class="sub_style" id="sub_chara_3" src="resource/cross.png"
                  data-chara_no="3"></div>
              <div id="sub_chara_container_4"><img class="sub_style" id="sub_chara_4" src="resource/cross.png"
                  data-chara_no="4"></div>
              <div id="sub_chara_container_5"><img class="sub_style" id="sub_chara_5" src="resource/cross.png"
                  data-chara_no="5"></div>
            </div>
          </div>
          <div class="enemy_status surround_area mx-auto mt-2 adjust_width">
            <label class="area_title">적정보</label>
            <div class="flex">
              <div class="flex flex-wrap gap-1 w-40">
                <div class="text-right enemy_label">능력치</div><input type="number" id="enemy_stat" value="" readonly
                  class="w-10 text-center enemy_input">
                <div class="text-right enemy_label">파괴율상한</div><input type="number" id="enemy_destruction_limit"
                  value="" readonly class="w-10 text-center enemy_input">
                <div class="text-right enemy_label">파괴율</div><input type="number" id="enemy_destruction_rate" min="100"
                  class="text-center">
                <div class="text-right enemy_label">파괴지수</div><input type="number" id="enemy_destruction" min="1"
                  readonly class="text-center enemy_input">
              </div>
              <div>
                <div class="flex">
                  <div class="w-5">DP</div>
                  <div>
                    <div class="dp_gauge">
                      <input type="text" id="enemy_dp_3" value="" readonly class="w-20 text-right enemy_input comma" pattern="\d*">
                      <input type="range" id="dp_range_3" class="dp_range" min="0" max="100" step="1" value="0">
                      <output id="dp_rate_3" class="gauge_rate">0%</output>
                    </div>
                    <div class="dp_gauge">
                      <input type="text" id="enemy_dp_2" value="" readonly class="w-20 text-right enemy_input comma" pattern="\d*">
                      <input type="range" id="dp_range_2" class="dp_range" min="0" max="100" step="1" value="0">
                      <output id="dp_rate_2" class="gauge_rate">0%</output>
                    </div>
                    <div class="dp_gauge">
                      <input type="text" id="enemy_dp_1" value="" readonly class="w-20 text-right enemy_input comma" pattern="\d*">
                      <input type="range" id="dp_range_1" class="dp_range" min="0" max="100" step="1" value="0">
                      <output id="dp_rate_1" class="gauge_rate">0%</output>
                    </div>
                    <div class="dp_gauge">
                      <input type="text" id="enemy_dp_0" value="" readonly class="w-20 text-right enemy_input comma" pattern="\d*">
                      <input type="range" id="dp_range_0" class="dp_range" min="0" max="100" step="1" value="0">
                      <output id="dp_rate_0" class="gauge_rate">0%</output>
                    </div>
                  </div>
                </div>
                <div class="flex">
                  <div class="w-5">HP</div>
                  <div>
                    <div class="flex">
                      <input type="text" id="enemy_hp" value="" readonly class="w-20 text-right enemy_input comma">
                      <input type="range" id="hp_range" class="hp_range" min="0" max="100" step="1" value="0">
                      <output id="hp_rate" class="gauge_rate">0%</output>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="resist_area mx-auto mt-2">
              <div class="grid grid-cols-9">
                <div class="slash"><input type="image" class="enemy_type_icon" src="resource/slash.png"><input type="text"
                    id="enemy_physical_1" class="enemy_type_value enemy_input" readonly></div>
                <div class="stab"><input type="image" class="enemy_type_icon" src="resource/stab.png"><input type="text"
                    id="enemy_physical_2" class="enemy_type_value enemy_input" readonly></div>
                <div class="strike"><input type="image" class="enemy_type_icon" src="resource/strike.png"><input type="text"
                    id="enemy_physical_3" class="enemy_type_value enemy_input" readonly></div>
                <div class="none"><input type="image" class="enemy_type_icon" src="resource/none.png"><input type="text"
                    id="enemy_element_0" class="enemy_type_value enemy_input" readonly></div>
                <div class="fire"><input type="image" class="enemy_type_icon" src="resource/fire.png"><input type="text"
                    id="enemy_element_1" class="enemy_type_value enemy_input" readonly></div>
                <div class="ice"><input type="image" class="enemy_type_icon" src="resource/ice.png"><input type="text"
                    id="enemy_element_2" class="enemy_type_value enemy_input" readonly></div>
                <div class="thunder"><input type="image" class="enemy_type_icon" src="resource/thunder.png"><input
                    type="text" id="enemy_element_3" class="enemy_type_value enemy_input" readonly></div>
                <div class="light"><input type="image" class="enemy_type_icon" src="resource/light.png"><input type="text"
                    id="enemy_element_4" class="enemy_type_value enemy_input" readonly></div>
                <div class="dark"><input type="image" class="enemy_type_icon" src="resource/dark.png"><input type="text"
                    id="enemy_element_5" class="enemy_type_value enemy_input" readonly></div>
              </div>
            </div>
          </div>
          <div class="surround_area mx-auto my-2 adjust_width">
            <label class="area_title">기타 설정</label>
            <div class="flex flex-wrap py-1 ml-3 gap-x-4 gap-y-2">
              <div class="flex">
                <div class="pt-0.5">속성반지</div>
                <select id="elememt_ring" disabled>
                  <option value="0">없음</option>
                  <option value="2">+0(2%)</option>
                  <option value="4">+1(4%)</option>
                  <option value="6">+2(6%)</option>
                  <option value="8">+3(8%)</option>
                  <option value="10">+4(10%)</option>
                </select>
              </div>
              <div class="flex">
                <div class="pt-0.5">피어스</div>
                <select id="earring">
                  <option value="0">없음</option>
                  <option value="1" data-effect_size="10" data-type="attack">어택10%</option>
                  <option value="2" data-effect_size="12" data-type="attack">어택12%</option>
                  <option value="3" data-effect_size="15" data-type="attack">어택15%</option>
                  <option value="4" data-effect_size="10" data-type="break">브레이크10%</option>
                  <option value="5" data-effect_size="12" data-type="break">브레이크12%</option>
                  <option value="6" data-effect_size="15" data-type="break">브레이크15%</option>
                  <option value="7" data-effect_size="10" data-type="blast">블래스트10%</option>
                  <option value="8" data-effect_size="12" data-type="blast">블래스트12%</option>
                  <option value="9" data-effect_size="15" data-type="blast">블래스트15%</option>
                </select>
              </div>
              <div class="flex">
                <div class="pt-0.5">토큰 수</div>
                <select id="token_count" class="token">
                  <option value="0">0</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                </select>
              </div>
              <input type="checkbox" id="overdrive"><label class="checkbox01" for="overdrive">오버 드라이브</label>
              <input type="checkbox" id="fightingspirit" class="ml-3 pt-0.5"><label class="checkbox01"
                for="fightingspirit">투지</label>
              <input type="checkbox" id="misfortune" class="ml-3 pt-0.5"><label class="checkbox01"
                for="misfortune">저주</label>
              <input type="checkbox" id="strong_break" class="ml-3 pt-0.5"><label class="checkbox01"
                for="strong_break">강브레이크</label>
              <div class="flex">
                <div class="pt-0.5">사기</div>
                <select id="morale_count" class="morale">
                  <option value="0">0</option>
                  <option value="1">1</option>
                  <option value="2">2</option>
                  <option value="3">3</option>
                  <option value="4">4</option>
                  <option value="5">5</option>
                  <option value="6">6</option>
                  <option value="7">7</option>
                  <option value="8">8</option>
                  <option value="9">9</option>
                  <option value="10">10</option>
                </select>
              </div>
            </div>
          </div>
        </div>
        <div class="buff_area text-right mx-auto">
          <input type="checkbox" id="auto_skill" checked><label class="checkbox01"
            for="auto_skill">스타일/공격 스킬/적 선택시 최적 스킬을 자동선택</label>
          <div class="text-center">
            <table>
              <colgroup>
                <col class="title_column pc_only">
                <col class="type1_column">
                <col class="type2_column">
                <col class="skill_name_column">
                <col class="reinforce_column">
                <col class="skill_lv_column">
              </colgroup>
              <tr class="sp_only">
                <td colspan="5" class="kind">버프</td>
              </tr>
              <tr>
                <td rowspan="10" class="kind pc_only">버프</td>
                <td class="type" colspan="2">공업1</td>
                <td><select id="power_up1" class="buff power_up redisplay include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class=""><label class="strengthen"><input type="checkbox"><span>강화</span></label></td>
                <td>
                  <div class="lv"><select id="power_up1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">공업2</td>
                <td><select id="power_up2" class="buff power_up redisplay include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class=""><label class="strengthen"><input type="checkbox"><span>강화</span></label></td>
                <td>
                  <div class="lv"><select id="power_up2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">속성 공업1</td>
                <td class="row_element"><select id="element_up1" class="buff element_up redisplay include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class="row_element"><label class="strengthen"><input type="checkbox"><span>강화</span></label></td>
                <td class="row_element">
                  <div class="lv"><select id="element_up1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">속성 공업2</td>
                <td class="row_element"><select id="element_up2" class="buff element_up redisplay include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class="row_element"><label class="strengthen"><input type="checkbox"><span>강화</span></label></td>
                <td class="row_element">
                  <div class="lv"><select id="element_up2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_weak" colspan="2">심안1</td>
                <td class="row_weak"><select id="mindeye1" class="mindeye redisplay include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class="row_weak"></td>
                <td class="row_weak">
                  <div class="lv"><select id="mindeye1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_weak" colspan="2">심안2</td>
                <td class="row_weak"><select id="mindeye2" class="mindeye redisplay include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class="row_weak"></td>
                <td class="row_weak">
                  <div class="lv"><select id="mindeye2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">연격1</td>
                <td><select id="funnel1" class="funnel redisplay include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class=""></td>
                <td>
                  <div class="lv"><select id="funnel1_lv"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">연격2</td>
                <td><select id="funnel2" class="funnel redisplay include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class=""></td>
                <td>
                  <div class="lv"><select id="funnel2_lv"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">파괴율UP1</td>
                <td><select id="destruction_rete_up1" class="destruction_rete_up  redisplay include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class=""></td>
                <td>
                  <div class="lv"><select id="funnel1_lv"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">파괴율UP2</td>
                <td><select id="destruction_rete_up2" class="destruction_rete_up redisplay include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class=""></td>
                <td>
                  <div class="lv"><select id="funnel2_lv"></select></div>
                </td>
              </tr>
              <tr class="sp_only">
                <td colspan="5" class="kind">디버프</td>
              </tr>
              <tr>
                <td rowspan="14" class="kind pc_only">디버프</td>
                <td class="type" colspan="2">방깎1</td>
                <td><select id="defense_down1" class="debuff redisplay defense_down include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class=""><label class="strengthen"><input type="checkbox"><span>강화</span></label></td>
                <td>
                  <div class="lv"><select id="defense_down1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">방깎2</td>
                <td><select id="defense_down2" class="debuff redisplay defense_down include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class=""><label class="strengthen"><input type="checkbox"><span>강화</span></label></td>
                <td>
                  <div class="lv"><select id="defense_down2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_dp" colspan="2">DP 방깎1</td>
                <td class="row_dp"><select id="dp_defense_down1" class="dp_debuff redisplay dp_defense_down include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class="row_dp"><label class="strengthen"><input type="checkbox"><span>강화</span></label></td>
                <td class="row_dp">
                  <div class="lv"><select id="dp_defense_down1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_dp" colspan="2">DP 방깎2</td>
                <td class="row_dp"><select id="dp_defense_down2" class="dp_debuff redisplay dp_defense_down include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class="row_dp"><label class="strengthen"><input type="checkbox"><span>강화</span></label></td>
                <td class="row_dp">
                  <div class="lv"><select id="dp_defense_down2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">속성 방깎1</td>
                <td class="row_element"><select id="element_down1" class="debuff redisplay element_down include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class="row_element"><label class="strengthen"><input type="checkbox"><span>강화</span></label></td>
                <td class="row_element">
                  <div class="lv"><select id="element_down1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">속성 방깎2</td>
                <td class="row_element"><select id="element_down2" class="debuff redisplay element_down include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class="row_element"><label class="strengthen"><input type="checkbox"><span>강화</span></label></td>
                <td class="row_element">
                  <div class="lv"><select id="element_down2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">영구 방깎1</td>
                <td class=""><select id="permanent_defense_down1"
                    class="debuff redisplay permanent_defense_down include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class=""><label class="strengthen"><input type="checkbox"><span>강화</span></label></td>
                <td class="">
                  <div class="lv"><select id="defense_down1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">영구 방깎2</td>
                <td class=""><select id="permanent_defense_down2"
                    class="debuff redisplay permanent_defense_down include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class=""><label class="strengthen"><input type="checkbox"><span>강화</span></label></td>
                <td class="">
                  <div class="lv"><select id="defense_down2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">영구 속성 방깎1</td>
                <td class="row_element"><select id="permanent_element_down1"
                    class="debuff redisplay permanent_element_down include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class="row_element"><label class="strengthen"><input type="checkbox"><span>강화</span></label></td>
                <td class="row_element">
                  <div class="lv"><select id="element_down1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">영구 속성 방깎2</td>
                <td class="row_element"><select id="permanent_element_down2"
                    class="debuff redisplay permanent_element_down include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class="row_element"><label class="strengthen"><input type="checkbox"><span>강화</span></label></td>
                <td class="row_element">
                  <div class="lv"><select id="element_down2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_weak" colspan="2">쇠약1</td>
                <td class="row_weak"><select id="fragile1" class="fragile redisplay include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class="row_weak"><label class="strengthen"><input type="checkbox"><span>강화</span></label></td>
                <td class="row_weak">
                  <div class="lv"><select id="fragile1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_weak" colspan="2">쇠약2</td>
                <td class="row_weak"><select id="fragile2" class="fragile redisplay include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class="row_weak"><label class="strengthen"><input type="checkbox"><span>강화</span></label></td>
                <td class="row_weak">
                  <div class="lv"><select id="fragile2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">내성감소1</td>
                <td class="row_element"><select id="resist_down1"
                    class="resist resist_down redisplay element include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class="row_element"><label class="strengthen"><input type="checkbox"><span>강화</span></label></td>
                <td class="row_element"></td>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">내성감소2</td>
                <td class="row_element"><select id="resist_down2"
                    class="resist resist_down redisplay element include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class="row_element"><label class="strengthen"><input type="checkbox"><span>강화</span></label></td>
                <td class="row_element"></td>
              </tr>
              <tr class="sp_only">
                <td colspan="5" class="kind">크리티컬</td>
              </tr>
              <tr>
                <td rowspan="8" class="kind pc_only">크리티컬</td>
                <td colspan="2">크리율UP1</td>
                <td><select id="critical_up1" class="critical_rate critical_up redisplay include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class=""></td>
                <td>
                  <div class="lv"><select id="critical_up1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">크리율UP2</td>
                <td><select id="critical_up2" class="critical_rate critical_up redisplay include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class=""></td>
                <td>
                  <div class="lv"><select id="critical_up2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">크리대미지UP1</td>
                <td><select id="critical_damege1" class="critical_buff critical_damege redisplay include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class=""></td>
                <td>
                  <div class="lv"><select id="critical_damege1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type" colspan="2">크리대미지UP2</td>
                <td><select id="critical_damege2" class="critical_buff critical_damege redisplay include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class=""></td>
                <td>
                  <div class="lv"><select id="critical_damege2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">속성크리율UP1</td>
                <td class="row_element"><select id="critical_element1"
                    class="critical_rate critical_element redisplay include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class="row_element"></td>
                <td class="row_element">
                  <div class="lv"><select id="critical_element1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">속성크리율UP2</td>
                <td class="row_element"><select id="critical_element2"
                    class="critical_rate critical_element redisplay include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class="row_element"></td>
                <td class="row_element">
                  <div class="lv"><select id="critical_element2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">속성크리대미지UP1</td>
                <td class="row_element"><select id="critical_damege_element1"
                    class="critical_buff critical_damege_element redisplay include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class="row_element"></td>
                <td class="row_element">
                  <div class="lv"><select id="critical_damege_element1_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr>
                <td class="type row_element" colspan="2">속성크리대미지UP2</td>
                <td class="row_element"><select id="critical_damege_element2"
                    class="critical_buff critical_damege_element redisplay include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class="row_element"></td>
                <td class="row_element">
                  <div class="lv"><select id="critical_damege_element2_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr class="sp_only">
                <td colspan="5" class="kind">필드</td>
              </tr>
              <tr>
                <td class="kind row_element pc_only">필드</td>
                <td class="type row_element" colspan="2">속성필드</td>
                <td class="row_element"><select id="element_field" class="filed element_field element redisplay">
                    <option selected value="">없음</option>
                  </select></td>
                <td class="row_element"></td>
                <td class="row_element" id="filed_lv"></td>
              </tr>
              <tr class="sp_only">
                <td colspan="5" class="kind">충전</td>
              </tr>
              <tr>
                <td class="kind pc_only">충전</td>
                <td class="type" colspan="2">충전</td>
                <td class=""><select id="charge" class="buff charge redisplay include_lv">
                    <option selected value="">없음</option>
                  </select></td>
                <td class=""></td>
                <td class="">
                  <div class="lv"><select id="charge_lv" class="lv_effect"></select></div>
                </td>
              </tr>
              <tr class="sp_only">
                <td colspan="5" class="kind">어빌리티</td>
              </tr>
              <tr>
                <td rowspan="4" class="kind pc_only">어빌리티</td>
                <td>공격자</td>
                <td colspan="4" id="ability_self" class="text-left"></td>
              </tr>
              <tr>
                <td>전방</td>
                <td colspan="4" id="ability_front" class="text-left"></td>
              </tr>
              <tr>
                <td>후방</td>
                <td colspan="4" id="ability_back" class="text-left"></td>
              </tr>
              <tr>
                <td>전체</td>
                <td colspan="4" id="ability_all" class="text-left"></td>
              </tr>
            </table>
          </div>
          <div class="mt-1 mx-auto text-right">
            <a href="https://www.hbr-tool.com/" target="_blank" class="text-blue-500 underline">원본사이트</a>
          </div>
        </div>
      </div>
    </div>
    <div class="footer hidden">
      <div id="damage_result" class="text-center mx-auto">
        <div class="flex">
          <div class="mt-2 damage-flex">
            <div>
              <label class="damage_label">크리티컬</label><label id="critical_rate" class="damage_label"></label>
            </div>
            <div>
              <label class="damage_label">최종 파괴율</label><label id="critical_destruction_last_rate"
                class="damage_label"></label>
              <input type="button" id="modal_damage_detail_open1" class="open_detail"
                data-micromodal-trigger="modal_damage_detail" value="상세">
            </div>
            <div class="text-center mx-auto">
              <input type="text" id="critical_damage" class="text-center damage" readonly>
              <div class="leading-4 items-end">
                <label class="pb-0.5">(</label>
                <input type="text" id="critical_damage_min" class="text-center min_damage" readonly>
                <label class="pb-0.5">～</label>
                <input type="text" id="critical_damage_max" class="text-center min_damage" readonly>
                <label class="pb-0.5">)</label>
              </div>
            </div>
          </div>
          <div class="mt-2 damage-flex">
            <div>
              <label class="damage_label">일반 대미지</label>
            </div>
            <div>
              <label class="damage_label">최종 파괴율</label><label id="destruction_last_rate" class="damage_label"></label>
              <input type="button" id="modal_damage_detail_open2" class="open_detail"
                data-micromodal-trigger="modal_damage_detail" value="상세">
            </div>
            <div class="text-center mx-auto">
              <input type="text" id="damage" class="text-center damage" readonly>
              <div class="leading-4 items-end">
                <label class="pb-0.5">(</label>
                <input type="text" id="damage_min" class="text-center min_damage" readonly>
                <label class="pb-0.5">～</label>
                <input type="text" id="damage_max" class="text-center min_damage" readonly>
                <label class="pb-0.5">)</label>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal micromodal-slide" id="modal_style_section" aria-hidden="true">
      <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container container_style" role="dialog" aria-modal="true" aria-labelledby="modal_section">
          <div class="modal_section">
            <div class="modal_inner">
              <div class="modal_inner_headline">
                <div class="flex leading-10">
                  <div class="mx-auto pl-16">스타일 선택</div>
                  <input type="button" id="calc" href="javascript:void(0)" class="remove_btn text-center mr-2"
                    value="빼기">
                </div>
              </div>
              <hr class="line" />
              <div class="narrow_element flex mx-auto">
                <input type="image" class="narrow physical" id="physical_1" src="resource/slash.png" data-select="1">
                <input type="image" class="narrow physical" id="physical_2" src="resource/stab.png" data-select="1">
                <input type="image" class="narrow physical" id="physical_3" src="resource/strike.png" data-select="1">
                <div class="w-12"></div>
                <input type="image" class="narrow element" id="element_0" src="resource/none.png" data-select="1">
                <input type="image" class="narrow element" id="element_1" src="resource/fire.png" data-select="1">
                <input type="image" class="narrow element" id="element_2" src="resource/ice.png" data-select="1">
                <input type="image" class="narrow element" id="element_3" src="resource/thunder.png" data-select="1">
                <input type="image" class="narrow element" id="element_4" src="resource/light.png" data-select="1">
                <input type="image" class="narrow element" id="element_5" src="resource/dark.png" data-select="1">
              </div>
              <div class="flex flex-wrap ml-2">
                <input type="button" class="narrow role" id="role_1" value="ATTACKER" data-select="1">
                <input type="button" class="narrow role" id="role_2" value="BREAKER" data-select="1">
                <input type="button" class="narrow role" id="role_3" value="BLASTER" data-select="1">
                <input type="button" class="narrow role" id="role_4" value="HEALER" data-select="1">
                <input type="button" class="narrow role" id="role_5" value="BUFFER" data-select="1">
                <input type="button" class="narrow role" id="role_6" value="DEBUFFER" data-select="1">
                <input type="button" class="narrow role" id="role_7" value="DEFENDER" data-select="1">
              </div>
              <div class="search_result_area">
                <div class="troops">
                  <input type="image" class="emblem" src="resource/31a.webp">
                  <div id="sytle_list_31A" class="flex flex-wrap troops_31A"></div>
                </div>
                <div class="troops">
                  <input type="image" class="emblem" src="resource/31b.webp">
                  <div id="sytle_list_31B" class="flex flex-wrap troops_31B"></div>
                </div>
                <div class="troops">
                  <input type="image" class="emblem" src="resource/31c.webp">
                  <div id="sytle_list_31C" class="flex flex-wrap troops_31C"></div>
                </div>
                <div class="troops">
                  <input type="image" class="emblem" src="resource/31d.webp">
                  <div id="sytle_list_31D" class="flex flex-wrap troops_31D"></div>
                </div>
                <div class="troops">
                  <input type="image" class="emblem" src="resource/31e.webp">
                  <div id="sytle_list_31E" class="flex flex-wrap troops_31E"></div>
                </div>
                <div class="troops">
                  <input type="image" class="emblem" src="resource/31f.webp">
                  <div id="sytle_list_31F" class="flex flex-wrap troops_31F"></div>
                </div>
                <div class="troops">
                  <input type="image" class="emblem" src="resource/31x.webp">
                  <div id="sytle_list_31X" class="flex flex-wrap troops_31X"></div>
                </div>
                <div class="troops">
                  <input type="image" class="emblem" src="resource/30g.webp">
                  <div id="sytle_list_30G" class="flex flex-wrap troops_30G"></div>
                </div>
                <div class="troops">
                  <input type="image" class="emblem" src="resource/angelbeats.webp">
                  <div id="sytle_list_AB" class="flex flex-wrap  troops_AB"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal micromodal-slide" id="modal_damage_detail" aria-hidden="true">
      <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container container_damage" role="dialog" aria-modal="true" aria-labelledby="damage_detail">
          <div id="damage_detail" aria-hidden="true" class="modal text-left w-[250px] mx-auto mt-2">
            <div>
              <label class="damage_label">대미지 상세</label>
            </div>
            <div class="text-center mx-auto">
              <input type="text" id="detail_damage" class="text-center damage" readonly>
              <div>
                최대
                <input type="text" id="detail_max_damage" class="text-center min_damage" readonly>
              </div>
              <div>
                최소
                <input type="text" id="detail_min_damage" class="text-center min_damage" readonly>
              </div>
              <label class="detail_max_damage">최종 파괴율</label>
              <label id="detail_destruction_last_rate" class="damage_label"></label>
            </div>
            <div class="enemy_rest_hp text-center w-[240px] mx-auto">
              <div class="flex">
                <div class="w-8">DP</div>
                <div>
                  <div class="dp_gauge">
                    <output id="rest_dp_rate_3" class="rest_gauge_rate">0%</output>
                  </div>
                  <div class="dp_gauge">
                    <output id="rest_dp_rate_2" class="rest_gauge_rate">0%</output>
                  </div>
                  <div class="dp_gauge">
                    <output id="rest_dp_rate_1" class="rest_gauge_rate">0%</output>
                  </div>
                  <div class="dp_gauge">
                    <output id="rest_dp_rate_0" class="rest_gauge_rate">0%</output>
                  </div>
                </div>
              </div>
              <div class="flex">
                <div class="w-8">HP</div>
                <div>
                  <div class="flex">
                    <output id="rest_hp_rate" class="rest_gauge_rate">0%</output>
                  </div>
                </div>
              </div>
              <input type="button" class="durability_reflection" value="적 정보에 반영">
            </div>
            <div class="w-[250px] mx-auto mt-3">
              <div class="font-bold">보정 상세(처음 히트 시)</div>
              <div>
                <div class="magnification">스킬 공격력</div>
                <input type="text" id="skill_power" class="text-center magnification_value" readonly>
                <input type="text" id="skill_power_critical" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×공격력 업</div>
                <input type="text" id="mag_buff" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×방어력 다운</div>
                <input type="text" id="mag_debuff" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×속성필드</div>
                <input type="text" id="mag_element_field" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×HP/DP 특공</div>
                <input type="text" id="mag_special" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×연격</div>
                <input type="text" id="mag_funnel" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×토큰 보정</div>
                <input type="text" id="mag_token" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×무기 상성</div>
                <input type="text" id="mag_physical" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×속성 상성</div>
                <input type="text" id="mag_element" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×심안</div>
                <input type="text" id="mag_mindeye" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×쇠약</div>
                <input type="text" id="mag_fragile" class="text-center magnification_value" readonly>
              </div>
              <div>
                <div class="magnification">×파괴율</div>
                <input type="text" id="mag_destruction" class="text-center magnification_value" readonly>
              </div>
              <div id="magnification_critical">
                <div class="magnification">×크리티컬 배율</div>
                <input type="text" id="mag_critical" class="text-center magnification_value" readonly>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</body>

</html>